"use strict";(self["webpackChunkassignment_3_3"]=self["webpackChunkassignment_3_3"]||[]).push([[361],{5361:(e,t,i)=>{i.r(t),i.d(t,{default:()=>x});var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{staticClass:"fill-height"},[i("v-row",{attrs:{align:"center",justify:"center"}},[i("v-col",{attrs:{cols:"12"}},[i("v-card",{staticClass:"elevation-12"},[i("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[i("v-toolbar-title",{staticClass:"d-block text-center text-uppercase"},[i("v-icon",{staticClass:"mr-2 mb-1",attrs:{size:"25"}},[e._v("mdi-pencil-remove")]),e._v("Create a recipe")],1)],1),i("v-card-text",{staticClass:"card pt-0"},[i("v-form",{ref:"recipeForm",staticClass:"d-flex flex-column"},[i("v-row",[i("v-col",{attrs:{cols:"6"}},[i("v-toolbar",{attrs:{flat:"",light:"",color:"white"}},[i("v-toolbar-title",[e._v("Description")])],1),i("v-row",[i("v-col",{staticClass:"pt-0"},[i("v-text-field",{attrs:{"append-icon":e.title?"mdi-comma-circle-outline":"mdi-comma",label:"Title",light:"",required:""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),i("v-text-field",{attrs:{label:"Meal Count","append-icon":e.serving?"mdi-glass-mug-variant":"mdi-glass-mug",light:"",min:"1",required:"",type:"number"},model:{value:e.serving,callback:function(t){e.serving=t},expression:"serving"}}),i("v-text-field",{attrs:{label:"Ready In Minutes",light:"","append-icon":e.ready_in_minutes?"mdi-clock-check-outline":"mdi-clock-alert-outline",min:"1",required:"",type:"number"},model:{value:e.ready_in_minutes,callback:function(t){e.ready_in_minutes=t},expression:"ready_in_minutes"}})],1),i("v-col",{staticClass:"pt-0 pl-5 ml-5"},[i("v-checkbox",{staticStyle:{width:"70%"},attrs:{label:"Vegan?","append-icon":e.vegan?"mdi-leaf":"mdi-leaf-off",color:"success",light:"",required:""},model:{value:e.vegan,callback:function(t){e.vegan=t},expression:"vegan"}}),i("v-checkbox",{staticStyle:{width:"70%"},attrs:{label:"Vegetarian?","append-icon":e.vegetarian?"mdi-food-steak":"mdi-food-steak-off",color:"red darken-3",light:""},model:{value:e.vegetarian,callback:function(t){e.vegetarian=t},expression:"vegetarian"}}),i("v-checkbox",{staticStyle:{width:"70%"},attrs:{label:"Gluten Free?","append-icon":e.gluten_free?"mdi-barley":"mdi-barley-off",color:"#F5B041",light:""},model:{value:e.gluten_free,callback:function(t){e.gluten_free=t},expression:"gluten_free"}})],1)],1),i("v-row",[i("v-col",[i("form",{ref:"imageUpload",staticClass:"d-flex align-center",attrs:{enctype:"multipart/form-data"}},[i("v-file-input",{staticClass:"flex-grow-1",attrs:{accept:"image/*",label:"Upload Image",light:"",required:"",name:"file",id:"imageInput"},model:{value:e.imgObj,callback:function(t){e.imgObj=t},expression:"imgObj"}}),i("v-btn",{staticClass:"ml-4 small white--text",attrs:{loading:e.loading,color:"blue-grey",fab:"",outlined:"",small:""},on:{click:e.performUpload}},[i("v-icon",{attrs:{dark:""}},[e._v("mdi-cloud-upload")])],1)],1)]),i("v-col",{staticClass:"d-flex align-center justify-space-end"},[i("label",{staticClass:"v-label theme--light mr-4"},[e._v("Preview:")]),i("v-avatar",{attrs:{color:"primary"}},[e.imgUrl?i("v-img",{attrs:{src:e.imgUrl}}):i("v-icon",[e._v("mdi-pot-mix")])],1)],1)],1),i("v-row",[i("v-textarea",{staticStyle:{"text-align":"center"},attrs:{label:"Instructions",light:"",outlined:"",requireds:"","append-icon":e.instructions?"mdi-clipboard-list-outline":"mdi-clipboard-outline",value:"The Woodman set to work at once, and so sharp"},model:{value:e.instructions,callback:function(t){e.instructions=t},expression:"instructions"}})],1)],1),i("v-col",{attrs:{cols:"6"}},[i("EditIngredients",{attrs:{value:e.extended_ingredients}})],1)],1)],1)],1),i("v-card-actions",{staticClass:"d-flex flex-column card"},[i("v-btn",{staticClass:"mb-4 align-self-stretch",attrs:{color:"success",light:""},on:{click:e.sendForm}},[e._v("Create")])],1)],1)],1)],1)],1)},a=[],l=i(7673),s=i(6198),r=(i(8309),i(2552)),o=i(5210),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-data-table",{attrs:{headers:e.headers,items:e.value,"disable-pagination":"",light:"","sort-by":"name"},scopedSlots:e._u([{key:"top",fn:function(){return[i("v-toolbar",{attrs:{color:"white",flat:""}},[i("v-toolbar-title",[e._v("Ingredients")]),i("v-spacer"),i("v-dialog",{attrs:{light:"","max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[i("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",a,!1),n),[e._v("Add")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),i("v-card-text",[i("v-container",[i("v-row",[i("v-col",[i("v-combobox",{staticClass:"flex-grow-1",attrs:{items:e.availableIngredients,rules:[function(e){return!!e||"Please select ingredient"}],"item-text":"name","item-value":"name",label:"Ingredient",light:"",required:""},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1)],1),i("v-row",[i("v-col",[i("v-text-field",{attrs:{label:"Amount",min:"0",type:"number"},model:{value:e.editedItem.amount,callback:function(t){e.$set(e.editedItem,"amount",t)},expression:"editedItem.amount"}})],1),i("v-col",[i("v-text-field",{attrs:{label:"Units"},model:{value:e.editedItem.unit,callback:function(t){e.$set(e.editedItem,"unit",t)},expression:"editedItem.unit"}})],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var n=t.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(n)}}},[e._v("mdi-pencil")]),i("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(n)}}},[e._v("mdi-delete")])]}},{key:"no-data",fn:function(){return[e._v("No ingredients added")]},proxy:!0}])})},d=[];i(2772),i(561);const u={props:["value"],data:function(){return{dialog:!1,headers:[{text:"Ingredient",align:"start",value:"name"},{text:"Amount",value:"amount"},{text:"Units",value:"unit"},{text:"Actions",value:"actions"}],availableIngredients:[],editedIndex:-1,editedItem:{name:"",amount:"",unit:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Ingredient":"Edit Ingredient"}},watch:{dialog:function(e){e||this.close()}},mounted:function(){var e=this;r.Z.ingredientsData().then((function(t){e.availableIngredients=t}))},methods:{editItem:function(e){this.editedIndex=this.value.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){var t=this.value.indexOf(e);confirm("Are you sure you want to delete this item?")&&this.value.splice(t,1)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){"string"!==typeof this.editedItem.name?(this.editedItem.id=this.editedItem.name.id,this.editedItem.name=this.editedItem.name.name):this.editedItem.id=Math.floor(100*Math.random())+50,this.editedIndex>-1?Object.assign(this.value[this.editedIndex],this.editedItem):this.value.push(this.editedItem),this.close()}}},m=u;var v=i(1001),g=(0,v.Z)(m,c,d,!1,null,null,null);const f=g.exports,p={components:{EditIngredients:f},data:function(){return{title:"",vegan:!1,vegetarian:!1,gluten_free:!1,serving:"",ready_in_minutes:"",imgUrl:"",aggregate_likes:0,instructions:"",extended_ingredients:[],selectedIngredient:null,imgObj:{},loading:!1,toggle:!1,unit:"",amount:null,amounts:!1,ingName:""}},methods:{sendForm:function(){var e=this,t={title:this.title,ready_in_minutes:this.ready_in_minutes,aggregate_likes:0,serving:this.serving,vegetarian:this.vegetarian,vegan:this.vegan,gluten_free:this.gluten_free,image:this.imgUrl,instructions:this.instructions,extended_ingredients:this.extended_ingredients};r.Z.addRecipe(t).then((function(){return e.$router.push("/personal/recipes")}))["catch"]((function(e){return console.log(e)}))},performUpload:function(){var e=this;return(0,s.Z)((0,l.Z)().mark((function t(){var i;return(0,l.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.imgObj.name){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,i=new FormData,i.append("image",e.imgObj,e.imgObj.name),t.next=7,o.Z.uploadImg(i);case 7:e.imgUrl=t.sent,e.loading=!1;case 9:case"end":return t.stop()}}),t)})))()}}},h=p;var b=(0,v.Z)(h,n,a,!1,null,null,null);const x=b.exports}}]);
//# sourceMappingURL=361.5edeb206.js.map